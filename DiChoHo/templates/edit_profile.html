{% extends "base.html" %}

{% block title %}Edit Profile{% endblock %}

{% block content %}

<div
  class="hero-wrap hero-bread"
  style="background-image: url('/static/images/bg_1.jpg')"
>
  <div class="container">
    <div
      class="
        row
        no-gutters
        slider-text
        align-items-center
        justify-content-center
      "
    >
      <div class="col-md-9 ftco-animate text-center">
        <h1 class="mb-0 bread">Chỉnh sửa thông tin cá nhân</h1>
      </div>
    </div>
  </div>
</div>

<div class="col-6 mx-auto">
    <form class="account-form" method="post" enctype="multipart/form-data">
        {% if user_form.is_valid and profile_form.is_valid  %}
        <div class="alert alert-primary" role="alert">
            Cập nhật thông tin thành công!
        </div>
        <p class="small text-center pt-0">
            <a href="{% url "profile" %}">Trở về trang thông tin cá nhân</a>
        </p>
        {%else%}
        <h3>Thay đổi thông tin cá nhân</h3>
        <p>Thay đổi thông tin tại các mục bên dưới:</p>
        {% endif %}
        {% if user_form.errors or profile_form.errors%}
        <div class="alert alert-primary" role="alert">
            Đã có lỗi xảy ra vui lòng kiểm tra lại!
        </div>
        {% endif %}

        {% csrf_token %}
        <label class="small font-weight-bold">{{ user_form.email.label}}</label>
        {{ user_form.email }}
        <label class="small font-weight-bold">{{ user_form.username.label}}</label>
        {{ user_form.username }}
        
        <label class="small font-weight-bold">{{ user_form.first_name.label}}</label>
        {{ user_form.first_name }}
        <label class="small font-weight-bold">{{ user_form.last_name.label}}</label>
        {{ user_form.last_name }}

        <label class="small font-weight-bold">{{ profile_form.birth_date.label}}</label>
        {{ profile_form.birth_date }}
        <label class="small font-weight-bold">{{ profile_form.phone.label}}</label>
        {{ profile_form.phone }}
        <label class="small font-weight-bold">{{ profile_form.profile_pic.label}}</label>
        {{ profile_form.profile_pic }}

        <button class="btn btn-primary btn-block py-2 mb-4 mt-5 fw-bold w-100" type="submit" value="Save changes">Lưu thay đổi</button>
        <hr class="mb-3">
    </form>

</div>

{% endblock %}